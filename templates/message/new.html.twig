{% extends 'base.html.twig' %}

{% block title %}New Message
{% endblock %}

{% block body %}

<section class="flex justify-center my-10 items-center">
    <div class="container mx-auto p-4">
        <div class="flex flex-col justify-center items-center lg:flex-row">
            <div class="w-full lg:w-3/4 bg-white p-4 border rounded-lg shadow-lg mt-4 lg:mt-0 flex flex-col">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <div class="ml-4">
                            <h6 class="font-bold m-0">
                                {{ receiver.firstName }}
								{{ receiver.lastName }}
                            </h6>
                        </div>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto">
                    <ul class="space-y-4">
                        {% for message in messages %}
                            <li class="flex {% if message.sender.username == app.user.username %}justify-end{% else %}justify-start{% endif %}">
                                <div class="max-w-xs">
                                    <div class="mt-1 {% if message.sender.username == app.user.username %}bg-blue-100{% else %}bg-gray-100{% endif %} text-gray-800 p-2 rounded-lg inline-block">
                                        {{ message.createdAt|date('d/H:i') }} - {{ message.content }}
                                    </div>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
                <form id="messageForm" action="{{ path('app_message_new', {'id': receiver.id}) }}" method="POST">
                    <div class="mt-4">
                        <div class="flex items-center border rounded-lg overflow-hidden">
                            <input type="text" name="message[content]" class="w-full py-2 px-4" placeholder="Message...">
                            <button type="submit" class="flex items-center justify-center px-3 border-l text-white bg-blue-500">Send</button>
                        </div>
                    </div>
                </form>
            </div>
              </div>
       </div>
</section>
{% endblock %}
